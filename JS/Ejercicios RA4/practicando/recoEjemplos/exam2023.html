<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>retos JavaScript</h1>
    <script>
        var cars = ["Saab", "Volvo", "BMW", ["Honda", "Toyota", ["Lexus",
            "Mercedes", "Lada"], "Hyunday"]];
        var carrakos = ["Chevrolet", "Tesla", "BMW", ["Honda",
            "Infiniti", ["Lexus", "Mercedes", "Kia"], "Hyunday"], ["Mazda",
                "Mercedes", "Jeep", ["KTM", "Nissan", "Isuzu"]]];
        var newcars = ["Saab", "Volvo", "BMW", ["Honda", "Toyota", ["Lexus",
            "Volvo", "Lada"], "Hyunday", "Volvo"]];
        buddies = [{
            firstName: "Jonny", lastName: "Rambo",
            car: "BMW"
        }, {
            firstName: "Arnold", lastName: "Suarchenager",
            car: "Honda"
        }, {
            firstName: "Chuck", lastName: "Norris",
            car: "Honda"
        }, {
            firstName: "Yakie", lastName: "Chang",
            car: "BMW"
        }, {
            firstName: "Bruce", lastName: "Lee",
            car: "Honda"
        }, { firstName: "Steven", lastName: "Seagal", car: "Lada" }];

        let xungas = ["Honda", "Lada"]
        //EJERCICIO 1
        // 1 línea
        console.log(newcars.flat(Infinity).filter(v => v == "Volvo").length);
        //EJERCICIO 2
        // 3 líneas
        let trendy = [];
        buddies.map(v => v.car).map(v => {
            if (buddies.map(v => v.car).filter(l => l == v).length > 1 && !trendy.find(m => m == v)) {
                trendy.push(v)
            }
        });
        console.log(trendy)
        //EJERCICIO 3
        // 1 línea
        console.log(newcars.flat(Infinity).map(v => {
            // newcars que estén en buddies
            let aux = buddies.map(k => k.car).find(l => l == v);
            // newcars que no estén en xungas
            let aux2 = xungas.find(l => l == v);
            if (aux != undefined && aux2 === undefined) return v;
        }).filter(m => m != undefined));
        //EJERCICIO 4
        // 2 líneas
        let trend = [undefined, 0];
        console.log(buddies.map(v => v.car).map(v => {
            if (buddies.map(v => v.car).filter(l => l == v).length > trend[1]) {
                trend[1] = buddies.map(v => v.car).filter(l => l == v).length;
                trend[0] = v;
            }
            if (v === trend[0]) return v;
        }).filter(l => l === trend[0])[0]);
    </script>
</body>

</html>